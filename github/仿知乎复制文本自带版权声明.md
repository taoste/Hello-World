- 《<a href="http://imfang.net/web/94.html" title="自动更新网站页脚版权时间的代码">自动更新网站页脚版权时间的代码</a>》  | 方阁志

```<code>
 
 <span style="font-family:arial;">Copyright &copy;   
 1984<script>// <![CDATA[
new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());
// ]]> 
</script>,  Choong.Net
 </span> 
 
</code>```

- <a href="https://diygod.me/2298/" title="版权狗退散 — 仿知乎复制文本自带版权声明">仿知乎复制文本自带版权声明</a> 

 > 什么鬼？
 
 > 版权狗退散，妈妈再也不用担心我被侵权了（其实只防君子不防小人）。

 类似知乎，在网站复制长度大于42的文本时自动加上这样的**版权声明** ：

> 著作权归作者所有。<br>
> 商业转载请联系作者获得授权，非商业转载请注明出处。<br>
> 作者：乐哥 <br>
> 链接：https://choong.net/1984/ <br>
> 来源：乐哥在线 <br>


**原理**:

> 监听copy事件

> 使用 window.getSelection() 获取选中的文本

>使用 clipboardData.setData 操作剪贴板的内容

**代码**:

<code><pre>
document.body.addEventListener('copy', function (e) {
    if (window.getSelection().toString() &amp;&amp; window.getSelection().toString().length &gt; 42) {
        setClipboardText(e);
        alert('商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。');
    }
});
function setClipboardText(event) {
    var clipboardData = event.clipboardData || window.clipboardData;
    if (clipboardData) {
        event.preventDefault();
        var htmlData = ''
            + '著作权归作者所有。&lt;br&gt;'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。&lt;br&gt;'
            + '作者：乐哥&lt;br&gt;'
            + '链接：' + window.location.href + '&lt;br&gt;'
            + '来源：乐哥在线&lt;br&gt;&lt;br&gt;'
            + window.getSelection().toString();
        var textData = ''
            + '著作权归作者所有。\n'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。\n'
            + '作者：乐哥\n'
            + '链接：' + window.location.href + '\n'
            + '来源：乐哥在线\n\n'
            + window.getSelection().toString();
        clipboardData.setData('text/html', htmlData);
        clipboardData.setData('text/plain',textData);
    }
}
</code></pre>


**已知问题**:

> iOS Safari 不兼容 clipboardData.setData() 方法，所以在 iOS Safari 上无效

**知乎原版**:

>  另附知乎原版关键代码，原理类似，感兴趣也可以看看：

<code><pre>
var lz = function (a, b, c) {
    function d(a, b) {
        return ["著作权归作者所有。", "商业转载请联系作者获得授权，非商业转载请注明出处。", "作者：" + b, "链接：" + a, "来源：知乎", "", ""]
    }
    function f(a, b, c) {
        return "\x3cdiv\x3e" + d(b, c).join("\x3cbr /\x3e") + a + "\x3c/div\x3e"
    }
    function g(a) {
        var g = z.Wq(), m = g &amp;&amp; (0, z.ib)(g.Ed());
        if (m &amp;&amp; !(42 &gt; m.length)) {
            if ("object" === typeof a.originalEvent.clipboardData &amp;&amp; (a.originalEvent.clipboardData.setData("text/html", f(g.Of(), b, c)), a.originalEvent.clipboardData.setData("text/plain", d(b, c).join("\n") + m), 0 &lt; a.originalEvent.clipboardData.getData("text/plain").length)) {
                a.preventDefault();
                return
            }
            if (window.getSelection) {
                a = g.Of();
                var n = (0, window.$)(f(a, b, c)).css({position: "fixed", left: "-9999px"}).appendTo("body");
                window.getSelection().selectAllChildren(n.get(0));
                (0, window.setTimeout)(function () {
                    g.select();
                    n.remove()
                }, 200)
            }
        }
    }
    a &amp;&amp; b &amp;&amp; c &amp;&amp; (z.Fa(b, "http") || (b = window.location.protocol + "//" + window.location.host + b), a.on("copy", g))
};
</code></pre>

<blockquote cite="https://diygod.me/2298/">
<p>
 著作权归作者所有。<br>
商业转载请联系作者获得授权，非商业转载请注明出处。<br>
作者：DIYgod<br>
链接：https://diygod.me/2298/<br>
来源：Hi, DIYgod (发表于 2015-12-26 )</p>
</blockquote> <cite> – Hi, DIYgod</cite>
